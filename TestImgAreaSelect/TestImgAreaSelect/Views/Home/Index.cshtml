
@{
    ViewBag.Title = "Index";
}

@section styles{


    <link href="~/Plugin/modal/modal.css?@Guid.NewGuid().ToString()" rel="stylesheet" />
    <link href="~/Plugin/jquery.imgareaselect-0.9.10/css/imgareaselect-default.css" rel="stylesheet" />

    <style>
        .lbl-image-upload {
        }

            .lbl-image-upload:hover {
                color: blue;
                cursor: pointer;
            }


            .lbl-image-upload > input[type=file] {
                display: none;
            }


        .modal-tempImg {
        }

        #target-img {
            min-width: 200px;
            min-height: 200px;
        }
    </style>

}


<h2>Index</h2>

<img id="target-img" style="width:400px;height:400px;" src="~/images/phpPSXnKG.jpg?w" />


<hr />

<!-- Trigger/Open The Modal -->
<button id="myBtn" data-target="myModal" class="modal-open">Open Modal</button>

<div id="myModal" class="Jmodal ">

    <div class="modal-content">
        <div class="modal-header">
            <span class="close">&times;</span>
            <h2>Modal Header</h2>
        </div>
        <div class="modal-body ">

        </div>
        <div class="modal-footer">

            <div class="col-lg-12" style="text-align:center">

                <label class="lbl-image-upload btn btn-primary">
                    圖片上傳
                    <input type="file" class="upload-file" />
                </label>
                <button class="btn btn-default modal-submit">確認</button>
            </div>

        </div>
    </div>

</div>





@*<a href="~/images/phpPSXnKG.jpg" data-lightbox="image-1" data-title="My caption">Image #1</a>*@

@section scripts{
    <script src="~/Plugin/jquery.imgareaselect-0.9.10/scripts/jquery.imgareaselect.pack.js"></script>
    <script src="~/Plugin/jquery.imgareaselect-0.9.10/scripts/jquery.imgareaselect.min.js"></script>

    <script src="~/Plugin/modal/modal.js?@Guid.NewGuid().ToString()"></script>
<script src="~/Plugin/modal/imgmodal.js?@Guid.NewGuid().ToString()"></script>

    <script>


        $(function () {

            //imgmodal.js
            $('#myBtn').setImgModal({
                uploadUrl: '@Url.Action("ImageUpload")',
                cropUploadUrl:'@Url.Action("CropImageUpload")',
                targetImg: $('#target-img'),
                imgAreaSelectSetting: {},
                submitCallback: function (resultUrl) {
                    console.log(resultUrl);
                },
            });
        });

     
    </script>

}